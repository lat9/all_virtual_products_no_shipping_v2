<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>All Virtual Products &mdash; No Shipping</title>

<style type="text/css">
<!--
a, a:active, a:visited { color: #006666; text-decoration: none; }
a:hover { color:#00CC99; text-decoration: underline; }
BODY, P, H1, H2, H3, H4, H5, H6, LI, TD, DD, DT {
  font-family: Verdana, AvantGarde, Tahoma, Arial, sans-serif;
  font-size: 10pt;
  color: black;
  padding: 0px;
  margin: 20px;
}
H1, H2, H3, H4 { font-weight: bold; }
h1 { font-size: 20px; }
h2 { font-size: 16px; }
ol li { margin-left: 0; }
.corefile { color: red; }
.template { color: green; }
.removed { text-decoration: line-through; }
.added { color: blue; }
.minspacing li { margin: 0; }
.smaller { font-size: smaller; }
ol li, ul li { margin-top: 5px; margin-bottom: 5px; }
ul li ul { padding-left: 0; }
-->
</style>
</head>

<body>
<a name="top" id="top"></a>
<h1>All Virtual Products &mdash; No Shipping for Zen Cart 1.5.1 through 1.5.4</h1>
<h3>Version 1.0.1 by lat9</h3>
<p>Current Support Thread at Zen Cart Forums: <a href="http://www.zen-cart.com/showthread.php?215721-All-Products-Virtual-No-Shipping-Support-Thread">http://www.zen-cart.com/showthread.php?215721-All-Products-Virtual-No-Shipping-Support-Thread</a></p>

<hr />
<h2>What it does</h2>
<p>You've got a store that sells <strong>only virtual products</strong>, so none of your products require shipping information.  This plugin:</p>
<ol>
  <li>Modifies the display of the checkout process, recognizing that the <code>checkout_shipping</code> page will never be used; the result is that your checkout process is reduced to checkout-payment choice followed by checkout-confirmation.</li>
  <li>The invoices generated by your store's admin contain no references to shipping addresses.</li>
  <li>There's no "Packing Slip" link on your admin's Customers-&gt;Orders page, since there's nothing to pack!</li>
</ol>

<hr />
<h2 id="fresh">Fresh Installation</h2>
<p>There are <span class="corefile">core-file</span> overwrites and <span class="template">template overrides</span> in this plugin; you should <strong>always</strong> backup your cart's database and files prior to making any changes!</p>
<ol>
  <li>Verify that your products and shipping are set up properly in your database:<ul class="minspacing">
    <li>Catalog-&gt;Categories/Products-&gt;Edit Product: <strong>Product is Virtual</strong> set to <em>Yes, Skip Shipping Address</em> for all products in your store.</li>
    <li>Modules-&gt;Shipping:  Only the <strong>freeshipper</strong> (FREE SHIPPING!) module should be installed.</li>
  </ul></li>
  <li>Rename folders in the plugin's distribution to match your secret admin folder and your current template:<ol>
    <li>/includes/languages/english/YOUR_TEMPLATE</li>
    <li>/includes/templates/YOUR_TEMPLATE</li>
    <li>/YOUR_ADMIN</li>
  </ol></li>
  <li>If you've made changes to any of the <span class="corefile">core-files</span> or <span class="template">template files</span>, merge this plugin's changes with your previous changes.</li>
  <li>Copy the plugin's (possibly merged) files to your cart's file system:<ol class="minspacing">
    <li><span class="corefile">/email/email_template_checkout.html</span></li>
    <li><span class="corefile">/includes/classes/class.phpbb.php</span></li>
    <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/account.php</span></li>
    <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/checkout_confirmation.php</span></li>
    <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/checkout_payment.php</span></li>
    <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/create_account_success.php</span></li>
    <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/login.php</span></li>
    <li>/includes/modules/pages/checkout_confirmation/header_php_all_virtual_products.php</li>
    <li>/includes/modules/pages/checkout_payment/header_php_all_virtual_products.php</li>
    <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_account_history_info_default.php</span></li>
    <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_modules_order_totals.php</span></li>
    <li><span class="corefile">/YOUR_ADMIN/invoice.php</span></li>
    <li><span class="corefile">/YOUR_ADMIN/orders.php</span></li>
    <li>/YOUR_ADMIN/includes/auto_loaders/config.zc154_compatibility.php<sup>1</sup></li>
    <li>/YOUR_ADMIN/includes/init_includes/init_zc154_compatibility.php<sup>1</sup></li>
    <li><span class="corefile">/YOUR_ADMIN/includes/languages/english/invoice.php</span></li>
  </ol><strong><sup>1</sup>Note:</strong> These files are not required if you're installing this plugin on a Zen Cart v1.5.4 or later.</li>
</ol>

<hr />
<h2 id="upgrade">Converting from &quot;Minimum Customer Account Information&quot;</h2>
<p>If you choose to convert from the <em>Minimum Customer Account Information</em> plugin, you'll need to first remove any core- or template-file changes introduced by that plugin.  The <span class="corefile">core-files</span> in the list below should either be restored to your Zen Cart version's default or, if you've made additional changes to the file, strip the <em>MCAI</em> changes out. Any <span class="template">template override</span> files that have no changes other than those introduced by <em>MCAI</em> should be removed; otherwise, you'll need to strip the <em>MCAI</em> changes out.  All the changes introduced by <em>MCAI</em> are marked with either <b>minacct</b> or <b>minaddr</b>.</p>
<ol>
  <li><span class="corefile">/includes/classes/class.phpbb.php</span></li>
  <li><span class="corefile">/includes/functions/functions_customers.php</span></li>
  <li>/includes/languages/english/extra_definitions/YOUR_TEMPLATE/minacct.php</li>
  <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/account.php</span></li>
  <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/checkout_confirmation.php</span></li>
  <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/checkout_payment.php</span></li>
  <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/create_account_success.php</span></li>
  <li><span class="template">/includes/languages/english/YOUR_TEMPLATE/login.php</span></li>
  <li><span class="corefile">/includes/modules/pages/account_edit/header_php.php</span></li>
  <li>/includes/modules/pages/account_history_info/header_php_minacct.php</li>
  <li>/includes/modules/pages/checkout_confirmation/header_php_minacct.php</li>
  <li>/includes/modules/pages/checkout_payment/header_php_minacct.php</li>
  <li><span class="corefile">/includes/modules/pages/login/on_load_main.js</span></li>
  <li>/includes/modules/YOUR_TEMPLATE/contact_info.php</li>
  <li><span class="template">/includes/modules/YOUR_TEMPLATE/create_account.php</span></li>
  <li>/includes/templates/YOUR_TEMPLATE/css/stylesheet_contact_info.css</li>
  <li>/includes/templates/YOUR_TEMPLATE/images/icons/ci_accept.png</li>
  <li>/includes/templates/YOUR_TEMPLATE/images/icons/ci_delete.png</li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_account_default.php</span></li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_account_edit_default.php</span></li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_account_history_info_default.php</span></li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_checkout_confirmation_default.php</span></li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_checkout_payment_default.php</span></li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_create_account_success_default.php</span></li>
  <li>/includes/templates/YOUR_TEMPLATE/templates/tpl_modules_contact_info.php</li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_modules_create_account.php</span></li>
  <li><span class="template">/includes/templates/YOUR_TEMPLATE/templates/tpl_modules_order_totals.php</span></li>
  <li><span class="corefile">/YOUR_ADMIN/customers.php</span></li>
  <li><span class="corefile">/YOUR_ADMIN/invoice.php</span></li>
  <li><span class="corefile">/YOUR_ADMIN/orders.php</span></li>
  <li>/YOUR_ADMIN/includes/auto_loaders/config.minacct_init.php</li>
  <li>/YOUR_ADMIN/includes/init_includes/init_minacct.php</li>
  <li><span class="corefile">/YOUR_ADMIN/includes/languages/english/invoice.php</span></li>
</ol>
<p>Once you've removed the <em>MCAI</em> changes, perform the installation steps identified for a <a href="#fresh">Fresh Installation</a> and then <em>optionally</em> copy the files from the <b>/OPTIONAL_MINACCT_UPGRADE</b> in the <em>All Virtual Products &mdash; No Shipping</em> plugin's distribution to your store's file system:</p>
<ol>
  <li>/includes/auto_loaders/config.address_book_check_minacct.php</li>
  <li>/includes/classes/observers/class.address_book_check_minacct.php</li>
  <li>/includes/languages/english/extra_definitions/avpns_minacct_conversion_extra_definitions.php</li>
</ol>
<p>Those additional files will interrogate (upon successful login and/or start of the checkout process) the customer's default address to make sure that it &quot;adheres&quot; to your store's current <em>Configuration-&gt;Customer Info</em> and <em>Configuration-&gt;Minimum Values</em> settings.  If not, the customer will be directed to the &quot;Address Book Edit&quot; page with a message requesting that they supply (or correct) the address-related information:</p>
<code style="margin-left: 25px;">We're sorry, but we've changed our account-information requirements and we need some more information about this address.  Please supply the required information.</code>
<p>The processing provided by these optional files will require that the customer correct their address before any future checkout process can begin.</p>

<hr />
<h2>Un-install</h2>
<p>Replace the admin and catalog <span class="corefile">core files</span> that were previously overwritten and then delete the new catalog files that were previously copied.  The lines and/or sections that were modified (i.e. added, changed or deleted) are marked by comments using the tag <b>avpns</b>, so you can use your admin's <em>Developers Tool Kit</em> to search for those files.</p>
<p><strong>Note:</strong> If your store uses the Zen Cart/phpBB linkage, you should review and incorporate the changes identified by <a href="http://www.zen-cart.com/showthread.php?204139-account_edit-Duplicate-phpbb-email-addresses-allowed" target="_blank">this</a> thread if you are un-installing <em>All Virtual Products &mdash; No Shipping</em>.</p>

<hr />
<h2>Version History:</h2>
<ul>
  <li>v1.0.0, 2015-01-04, Initial release.</li>
  <li>v1.0.1, 2015-xx-yy:<ul>
    <li>CHANGE: Readme cleanup</li>
    <li>BUGFIX: Remove hard-coded language text from orders.php <span class="smaller">(that was removed in Zen Cart v1.5.4)</span>.</li>
    <li>The following files were changed:<ol>
      <li><span class="corefile">/YOUR_ADMIN/orders.php</span></li>
    </ol></li>
  </ul></li>
</ul>

</body>
</html>